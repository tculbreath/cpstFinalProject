<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Due Date Calculator</title>
    <style>
        #DueDateCal {
            text-align:center;
        }
        #head {
            color: #fb9e25;
            text-align:center;
        }
        h1 {
            color: #fb9e25;
            text-align: center;
        }
        #para-footer {
            text-align: center;
        }
        p {
            text-align: center;
        }
        #NextStepsButton {
            text-align: left;
        }
        h2 {
            color: #fb9e25;
            text-align: center;
        }
        h3 {
            color: #fb9e25;
            text-align: center;
        }
        h4 {
            color: #fb9e25;
            text-align: center;
        }
        #CalInfoButton {
            text-align: center;
        }
        body {
            background-color: bisque;
        }

        .NextStepsButton {
            -moz-box-shadow: inset 0px 1px 0px 0px #fce2c1;
            -webkit-box-shadow: inset 0px 1px 0px 0px #fce2c1;
            box-shadow: inset 0px 1px 0px 0px #fce2c1;
            background-color: #ffc477;
            -moz-border-radius: 6px;
            -webkit-border-radius: 6px;
            border-radius: 6px;
            border: 1px solid #eeb44f;
            display: inline-block;
            color: #ffffff;
            font-family: arial;
            font-size: 15px;
            font-weight: bold;
            padding: 6px 24px;
            text-decoration: none;
            text-shadow: 1px 1px 0px #cc9f52;
        }.NextStepsButton:hover {
            background-color:#fb9e25;
        }.NextStepsButton:active {
                              position:relative;
                              top:1px;
                          }

        .CalInfoButton {
            -moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            -webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            box-shadow:inset 0px 1px 0px 0px #fce2c1;
            background-color:#ffc477;
            -moz-border-radius:6px;
            -webkit-border-radius:6px;
            border-radius:6px;
            border:1px solid #eeb44f;
            display:inline-block;
            color:#ffffff;
            font-family:arial;
            font-size:15px;
            font-weight:bold;
            padding:6px 24px;
            text-decoration:none;
            text-shadow:1px 1px 0px #cc9f52;
        }.CalInfoButton:hover {
                     background-color:#fb9e25;
                 }.CalInfoButton:active {
                                       position:relative;
                                    top:1px;
                                   }

        .Submit {
            -moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            -webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            box-shadow:inset 0px 1px 0px 0px #fce2c1;
            background-color:#ffc477;
            -moz-border-radius:6px;
            -webkit-border-radius:6px;
            border-radius:6px;
            border:1px solid #eeb44f;
            display:inline-block;
            color:#ffffff;
            font-family:arial;
            font-size:15px;
            font-weight:bold;
            padding:6px 24px;
            text-decoration:none;
            text-shadow:1px 1px 0px #cc9f52;
        }.Submit:hover {
                     background-color:#fb9e25;
                 }.Submit:active {
                                       position:relative;
                                    top:1px;
                                }
        .HomePage {
            -moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            -webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
            box-shadow:inset 0px 1px 0px 0px #fce2c1;
            background-color:#ffc477;
            -moz-border-radius:6px;
            -webkit-border-radius:6px;
            border-radius:6px;
            border:1px solid #eeb44f;
            display:inline-block;
            color:#ffffff;
            font-family:arial;
            font-size:15px;
            font-weight:bold;
            padding:6px 24px;
            text-decoration:none;
            text-shadow:1px 1px 0px #cc9f52;
        }.HomePage:hover {
             background-color:#fb9e25;
         }.HomePage:active {
              position:relative;
              top:1px;
          }
        body{
            background-image: linear-gradient(to right, bisque, saddlebrown);
        }
    </style>
</head>
<body>
<div class="container">

    <div class="row">

        <div class="col">

            <header id = "head">Due Date Calculator</header>
            <h1>How Long Do Pregnancies Last?</h1>
            <p>Pregnancy typically last up to 40 weeks.  Most advise that women start counting from the first day of their last menstruation.  The timeline for pregnancy is broken into trimesters.  The first trimester covers the 1st, 2nd and 3rd month of pregnancy.  The second trimester covers the 4th, 5th and 6th months of pregnancy while the third trimester wraps up the last 7th, 8th and 9th months of pregnancy.  However, each week of pregnancy can bring something new for the mom to experience.</p>
            <p id = "para=footer">For more information about the time line of pregnancy see our Next Steps page</p>

        </div>

    </div>

    <div style="text-align: center;">

            <a href="NextSteps.html" class="NextStepsButton" align="center">Next Steps</a>
    </div>

    <div class="row">
        <div class="col">
            <h2>What to Expect From the Due Date Calculator?</h2>
            <p>To calculate your due date, we add 280 days to the first day of your last menses.<span style="color:red"> STOP! Do not do the math on your own!!</span> This is what we are here for with our Due Date Calculator.</p>
            <p>For more information about how to calculate your due date see this page</p>
        </div>
        </div>
        <div style="text-align: center;">
            <a href="https://www.webmd.com/baby/interactive-pregnancy-tool-fetal-development" class="CalInfoButton">WebMD Pregnancy Visual Timeline</a>
        </div>
    <div class="row">
        <div class="col">
            <h3 id = "head-3">Your Results Will Show Here</h3>
            <h4 id = "head-4"> Current Date goes here</h4>
        </div>
    </div>
</div>
<script>
    "use strict";

    /**
     * This function calculates the due date and is responsible for updatin <h3> and <h4> to show the users results
     * @param e is to prevent defaults
     * @document. the headers for 3 & 4 are updated to visually show the user their results.
     */
    function calculateDueDate(e) {
        e.preventDefault();
        let dateLastMenses = document.getElementById("DateOfLastMenses");
        console.log(dateLastMenses.value);
        let dueDate = moment(dateLastMenses.value, "YYYY-MM-DD").add(280, 'days').format('LL');
        console.log(dueDate);
        let monthsUnt = moment(dueDate, 'LL').startOf('day').fromNow();
        document.getElementById('head-3').innerHTML = 'Your due date is ' + dueDate.toString();
        document.getElementById('head-4').innerHTML = 'You have ' + monthsUnt.toString() + ' of pregnancy left';
    }

    function listenForButtonClick(s) {
        CalInfoButton.addEventListener('click', function(e){
            e.preventDefault();
            location.href="NextSteps.html#" + e.target.dataset.weeksUnt1
        });
    }

    function listenForFormSubmission() {
        let dueDateCal = document.getElementById("DueDateCal");
        dueDateCal.addEventListener("submit", calculateDueDate);
        //   let todaysDate = documment.getElementById("TodaysDate");
        //  todaysDate.addEventListener("submit",calculateCurrentDate);
        // dueDateCal.addEventListener('submit', function(){
        //   document.getElementById('head-3').innerHTML = DateOfLastMenses ;
        //});

    }
    function recordFormSubmission(e) {
        e.preventDefault();
        // alert("Hello" + );
        let formResults = new FormData(this);
        for (let pair of formResults.entries()) {
            localStorage.setItem(pair[0], pair[1]);
        }
        loadFormSubmissionIntoPage();
    }
    function loadFormSubmissionIntoPage() {
        let formResponse = document.getElementById('form-response');
        for (let i = 0; i < localStorage.length; i++) {
            let p = document.createElement("p");
            let key = localStorage.key(i);
            let value = localStorage.getItem(key);
            p.innerHTML = "<strong>" + key + "</strong>: " + value;
            formResponse.appendChild(p);
        }
    }

    function listenForBackgroundColorPickerChange() {
        let bgPicker = document.getElementById("bg-color-picker");
        bgPicker.addEventListener("change", function(e) {
            document.body.style.backgroundColor = bgPicker.value;
        });
    }

    window.onload = () => {
        listenForFormSubmission();
        // loadFormSubmissionIntoPage();
        // listenForBackgroundColorPickerChange();
    };
</script>
<form id =  "DueDateCal" >
    <div class="row">
        <div class="col">
            <label for = "UserName" > Please Enter Your Name</label>
            <input id = "UserName" name = "UserName" minlength="2" maxlength="20" size="10" required/>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <label for = "DateOfLastMenses" > Please Enter the Date of the First Day of Your Last Menstrual Cycle</label>
            <input type = "date" id = "DateOfLastMenses" name = "DateOfLastMenses" placeholder = "Date of last Menses" min="2018-01-01" max="2018-12-31" required/>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <input type="submit" value="Submit" class = "Submit" > </input>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <a href="index.html" class="HomePage" align="center">Home Page</a>
        </div>
    </div>
        <div class="center">
            <div class = "col">
                <img src="GoldenMom.jpg" alt ="Pregnant Art" id = "GoldMom">
            </div>
        </div>
    </div>
</form>
<script src="http://momentjs.com/downloads/moment.js"></script>
</body>
</html>